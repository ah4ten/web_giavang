let state = { mode: "manual", gold: "SJC", message: "Xin chao quy khach!", speed: 50, delay: 3000, }; export default function handler(req, res) { if (req.method === "POST") { const { mode, gold, message, speed, delay } = req.body; if (mode) state.mode = mode; if (gold) state.gold = gold; if (message) state.message = message; if (speed) state.speed = speed; if (delay) state.delay = delay; return res.status(200).json({ success: true, state }); } if (req.method === "GET") { // ğŸ‘‰ ThÃªm Ä‘oáº¡n nÃ y cho ESP32 Ä‘á»c Ä‘Æ°á»£c return res.status(200).json(state); } // Náº¿u khÃ´ng pháº£i GET hoáº·c POST return res.status(405).json({ error: "Method Not Allowed" }); }
