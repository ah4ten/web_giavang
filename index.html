<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>B·∫£ng ƒêi·ªÅu Khi·ªÉn LED</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #0e0e0e;
    color: white;
    text-align: center;
    margin: 0; padding: 30px;
  }
  h2 { color: #00ff7f; }
  .card {
    background: #1c1c1c;
    padding: 20px;
    margin: 10px auto;
    border-radius: 12px;
    width: 360px;
    box-shadow: 0 0 10px #222;
  }
  input, select {
    width: 90%;
    padding: 8px;
    margin: 6px 0;
    border-radius: 8px;
    border: none;
    background: #222;
    color: white;
  }
  button {
    background: #00ff7f;
    border: none;
    padding: 10px 20px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    margin-top: 8px;
  }
  button:hover { background: #03c06b; }
  #status {
    color: #00ffff;
    margin-top: 10px;
  }
</style>
</head>
<body>

<h2>‚öôÔ∏è B·∫¢NG ƒêI·ªÄU KHI·ªÇN LED ESP32</h2>

<div class="card">
  <label>Ch·∫ø ƒë·ªô hi·ªÉn th·ªã:</label>
  <select id="mode">
    <option value="manual">Th·ªß c√¥ng</option>
    <option value="auto">T·ª± ƒë·ªông (Gi√° v√†ng)</option>
  </select>

  <label>N·ªôi dung hi·ªÉn th·ªã:</label>
  <input id="message" type="text" value="XIN CHAO QUY KHACH">

  <label>Lo·∫°i v√†ng (ch·ªâ khi auto):</label>
  <select id="gold">
    <option value="SJC">SJC</option>
    <option value="NHAN">Nh·∫´n tr√≤n</option>
  </select>

  <label>T·ªëc ƒë·ªô (1‚Äì100):</label>
  <input id="speed" type="number" value="50" min="1" max="100">

  <label>Delay gi·ªØa 2 v√≤ng (ms):</label>
  <input id="delay" type="number" value="3000">

  <label>Th·ªùi gian hi·ªÉn th·ªã (ms):</label>
  <input id="duration" type="number" value="10000">

  <button onclick="sendData()">üíæ C·∫≠p nh·∫≠t</button>
  <div id="status"></div>
</div>

<script>
async function sendData() {
  const data = {
    mode: document.getElementById("mode").value,
    message: document.getElementById("message").value,
    gold: document.getElementById("gold").value,
    speed: parseInt(document.getElementById("speed").value),
    delay: parseInt(document.getElementById("delay").value),
    duration: parseInt(document.getElementById("duration").value)
  };

  try {
    const res = await fetch("/api/message", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(data)
    });
    const json = await res.json();
    document.getElementById("status").innerText = "‚úÖ ƒê√£ g·ª≠i th√†nh c√¥ng!";
  } catch (err) {
    document.getElementById("status").innerText = "‚ùå L·ªói g·ª≠i d·ªØ li·ªáu!";
  }
}
</script>
</body>
</html>
