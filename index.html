<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>B·∫£ng ƒêi·ªÅu Khi·ªÉn LED</title>
<style>
  body {
    background: #f5f8ff;
    font-family: "Segoe UI", sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 40px;
    color: #222;
  }
  h1 {
    color: #004aad;
    margin-bottom: 30px;
  }
  .card {
    background: white;
    border-radius: 16px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    padding: 24px;
    width: 360px;
    display: flex;
    flex-direction: column;
    gap: 14px;
  }
  label {
    font-weight: 600;
    margin-bottom: 4px;
  }
  input, select {
    width: 100%;
    padding: 10px;
    border-radius: 10px;
    border: 1px solid #ccc;
    font-size: 15px;
  }
  button {
    background: #0078ff;
    color: white;
    border: none;
    padding: 12px;
    border-radius: 10px;
    font-size: 16px;
    cursor: pointer;
    transition: 0.2s;
  }
  button:hover { background: #005ecc; }
  #status { text-align: center; margin-top: 8px; color: #006b2d; font-weight: 600; }
</style>
</head>
<body>
<h1>‚öôÔ∏è B·∫¢NG ƒêI·ªÄU KHI·ªÇN LED ESP32</h1>
<div class="card">
  <label>Ch·∫ø ƒë·ªô hi·ªÉn th·ªã</label>
  <select id="mode">
    <option value="manual">Th·ªß c√¥ng</option>
    <option value="auto">T·ª± ƒë·ªông (Gi√° v√†ng)</option>
  </select>

  <label>N·ªôi dung hi·ªÉn th·ªã</label>
  <input id="message" type="text" value="XIN CHAO QUY KHACH">

  <label>Lo·∫°i v√†ng (ch·ªâ khi auto)</label>
  <select id="gold">
    <option value="SJC">SJC</option>
    <option value="NHAN">Nh·∫´n tr√≤n</option>
  </select>

  <label>T·ªëc ƒë·ªô ch·∫°y ch·ªØ (1‚Äì100)</label>
  <input id="speed" type="range" min="1" max="100" value="50" oninput="speedValue.innerText=this.value">
  <div>T·ªëc ƒë·ªô hi·ªán t·∫°i: <span id="speedValue">50</span></div>

  <label>ƒê·ªô tr·ªÖ gi·ªØa c√°c l·∫ßn (ms)</label>
  <input id="delay" type="number" value="3000">

  <label>Th·ªùi gian hi·ªÉn th·ªã (ms)</label>
  <input id="duration" type="number" value="10000">

  <button onclick="sendData()">üíæ C·∫≠p nh·∫≠t LED</button>
  <div id="status"></div>
</div>

<script>
async function sendData() {
  const data = {
    mode: document.getElementById("mode").value,
    message: document.getElementById("message").value,
    gold: document.getElementById("gold").value,
    speed: parseInt(document.getElementById("speed").value),
    delay: parseInt(document.getElementById("delay").value),
    duration: parseInt(document.getElementById("duration").value)
  };
  try {
    const res = await fetch("/api/message", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(data)
    });
    const json = await res.json();
    document.getElementById("status").innerText = "‚úÖ ƒê√£ g·ª≠i l√™n ESP32!";
  } catch {
    document.getElementById("status").innerText = "‚ùå L·ªói g·ª≠i d·ªØ li·ªáu!";
  }
}
</script>
</body>
</html>
